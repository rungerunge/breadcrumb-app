{% comment %}
  Smart Breadcrumbs - Main Template
  Dynamically includes the appropriate breadcrumb template based on page type
  v5.1.0
{% endcomment %}

{% liquid
  # Determine page type and include appropriate template
  if template contains 'product'
    render 'smart-breadcrumbs-product'
  elsif template contains 'collection'
    render 'smart-breadcrumbs-collection'
  else
    render 'smart-breadcrumbs-page'
  endif
%}

{% comment %} Advanced debug information - only visible when ?debug=true is in URL {% endcomment %}
{% if request.design_mode or request.query_string contains 'debug=true' %}
  <div style="font-size: 12px; color: #777; background: #f7f7f7; padding: 10px; margin-top: 10px; border-radius: 4px;">
    <p style="margin: 0 0 5px 0;"><strong>Router Debug Info:</strong></p>
    <p style="margin: 0 0 5px 0;">Template: {{ template }}</p>
    <p style="margin: 0 0 5px 0;">Current Template: {{ current_template }}</p>
    <p style="margin: 0 0 5px 0;">Page Type Detection:</p>
    <ul style="margin: 0; padding-left: 20px;">
      <li>Product Page: {{ is_product_page }}</li>
      <li>Collection Page: {{ is_collection_page }}</li>
      <li>Search Page: {{ is_search_page }}</li>
      <li>Cart Page: {{ is_cart_page }}</li>
      <li>404 Page: {{ is_404_page }}</li>
    </ul>
    <p style="margin: 5px 0 0 0;">Path: {{ request.path }}</p>
  </div>
{% endif %} 