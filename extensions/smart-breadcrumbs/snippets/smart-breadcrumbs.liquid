{% comment %}
  Smart Breadcrumbs v5.0
  A robust breadcrumb navigation component
  
  Usage:
  {% render 'smart-breadcrumbs' %}
{% endcomment %}

{%- unless template == 'index' or template == 'cart' or template == '404' -%}
  {%- if template contains 'product' -%}
    {% render 'smart-breadcrumbs-product' %}
  {%- elsif template contains 'collection' -%}
    {% render 'smart-breadcrumbs-collection' %}
  {%- else -%}
    {% render 'smart-breadcrumbs-page' %}
  {%- endif -%}
{%- endunless -%}

{% if debug_mode %}
<!-- Inject debugging script -->
<script>
  console.log('=== BREADCRUMB DEBUG INFO ===');
  console.log('Template:', {{ template | json }});
  console.log('URL:', {{ request.path | json }});
  console.log('Collection:', {% if collection %}{{ collection.title | json }}{% else %}null{% endif %});
  console.log('Product:', {% if product %}{{ product.title | json }}{% else %}null{% endif %});
  document.addEventListener('DOMContentLoaded', function() {
    const breadcrumb = document.querySelector('[data-breadcrumb-component]');
    if (breadcrumb) {
      console.log('✅ Breadcrumb element found in DOM:', breadcrumb);
      breadcrumb.style.border = '2px dashed green';
    } else {
      console.error('❌ Breadcrumb element NOT found in DOM');
    }
  });
</script>
{% endif %} 